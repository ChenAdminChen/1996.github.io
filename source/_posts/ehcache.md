---
title: ehcache
date: 2019.02.22 16:35:34
tags:
  - cache
---

## ehcache介绍

&nbsp;&nbsp;&nbsp;&nbsp;EHCache是一个非常轻量级的缓冲，是Hibernate的默认缓存。
同时ehcache应该说是java范围内使用最广泛的缓存。同时它也支持分布式缓存。也提供了磁盘，内存的缓存存储。

## Ehcache支持的数据存储包括：
&nbsp;&nbsp;&nbsp;&nbsp;堆内存储 - 利用Java的堆内存来存储缓存条目。使用与Java应用程序相同的由JVM垃圾收集器管理的堆内存。JVM使用的堆空间越多，应用程序性能受到的垃圾收集暂停影响越大。此存储最快但空间最小。
&nbsp;&nbsp;&nbsp;&nbsp;堆外存储 - 只有可用RAM限制大小。不受Java垃圾收集(GC)的影响。它的速度非常快，但比堆内存储要慢，因为数据的存储和重新访问的都要经过堆内存储层。
&nbsp;&nbsp;&nbsp;&nbsp;磁盘存储 - 利用磁盘(文件系统)来存储缓存条目。这种类型的存储资源通常非常丰富，但是比基于ram的存储要慢得多。对于使用磁盘存储的所有应用程序，建议使用一个快速且专用的磁盘来优化吞吐量。
&nbsp;&nbsp;&nbsp;&nbsp;集群存储 - 这个数据存储是远程服务器上的一个缓存。远程服务器可以有选择地提供一个故障转移服务器使可用性更高。集群存储由于网络延迟和建立客户机/服务器一致性等因素而受到性能的惩罚，因此这一层的性能比本地的堆外存储要慢。


## ehcache与redis区别

&nbsp;&nbsp;&nbsp;&nbsp;ehcache直接在jvm虚拟机中缓存，速度快，效率高；但是缓存共享麻烦，集群分布式应用不方便。  
&nbsp;&nbsp;&nbsp;&nbsp;redis是通过socket访问到缓存服务，效率比ecache低，比数据库要快很多，处理集群和分布式缓存方便，有成熟的方案。
                        
如果是单个应用或者对缓存访问要求很高的应用，用ehcache。如果是大型系统，存在缓存共享、分布式部署、缓存内容很大的，建议用redis。
                        
  